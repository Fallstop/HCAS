{"version":3,"sources":["../../resources/js/app.js"],"names":["clearHash","history","pushState","document","title","window","location","pathname","search","$types","$","$pages","$loader","$loaderText","$guestName","$memberName","$guestSubmit","$memberSubmit","on","hash","pages","length","page","substr","includes","resetPage","toPage","id","prop","addClass","removeClass","val","selectedMember","clearMembersList","members","loadMembers","showLoader","fail","point","showToast","get","done","res","hasOwnProperty","status","always","hideLoader","getRelevantMembers","name","toLowerCase","matching","rankings","forEach","member","lowerName","ranking","startsWith","indexOf","push","sort","a","b","$membersList","children","remove","fillMembersList","$item","text","$radio","type","value","$button","$parent","parent","checked","is","hasClass","attr","appendTo","e","keyCode","viewMembers","trigger","currentToastTimeout","undoCallback","error","duration","$toast","$toastText","$toastUndo","bind","css","clearTimeout","setTimeout","unbind","saveAttendance","removeAttendance","callback","post","reason","ajax","data","undefined","parents"],"mappings":"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","sourcesContent":["// Clears the window hash\nconst clearHash = () => history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n\nconst $types = $('#types');\nconst $pages = $('#pages');\nconst $loader = $('#loader');\nconst $loaderText = $('#loaderText');\n\nconst $guestName = $('#guestName');\nconst $memberName = $('#memberName');\n\nconst $guestSubmit = $('#guestSubmit');\nconst $memberSubmit = $('#memberSubmit');\n\n/*\n*   Start Page Manipulation\n*\n*   This section of code controls the changing of the page\n*   contents when the window hash changes\n*   (#member, $guest, #facilitator)\n*\n*/\n\n$(window).on('hashchange', () => {\n    const hash = window.location.hash // The current window hash (e.g #guest)\n    const pages = [\"guest\", \"member\", \"facilitator\"]; // A list of the valid pages\n    if (hash.length < 1) {  // The hash was removed so we can ignore it\n        return;\n    }\n    const page = hash.substr(1); // We remove the # from the hash to get the page name\n    if (!pages.includes(page)) {  // Check if the page isn't valid\n        return resetPage(); // Reset the page\n    }\n    toPage(page); // Open the page\n})\n\nfunction toPage(id) {\n    // Disable all type buttons so that hitting tab wont focus on them\n    $('.member-types__type').prop('disabled', true);\n    $types.addClass('member-types--hidden'); // Add the hidden class to hide it\n    $pages.removeClass('sign-pages--hidden'); // Remove the hidden class to show it\n    $(`.sign-pages__page[page-id=\"${id}\"]`).removeClass('sign-pages__page--hidden'); // Remove the hidden class for the current page\n}\n\nfunction resetPage() {\n    $('.member-types__type').prop('disabled', false); // Make the member types not hidden\n    $types.removeClass('member-types--hidden'); // Remove the hidden class to show it\n    $pages.addClass('sign-pages--hidden'); // Add the hidden class to hide it\n    $('.sign-pages__page').addClass('sign-pages__page--hidden'); // Add hidden class to hide the pages\n    clearHash(); // Clear the current page\n    $guestName.val(''); // Reset the guest name\n    $memberName.val('');  // Reset the member name\n    $('.members__list__item').prop('checked', false); // Uncheck all the members radio buttons\n    selectedMember = null; // Set the selected member to done\n    $memberSubmit.prop('disabled', true); // Disable the member submit button\n    clearMembersList(); // Clear the list of members\n}\n\n// Make the back button reset the page\n$('#signBack').on('click', () => resetPage())\n\n/*\n*   End Page Manipulation\n*\n*   ########################\n*\n*   Start Member Handling\n*\n*   This section of code controls retrieving the members list from\n*   the backend, filtering, and sorting that data to display it\n*\n*/\n\n// This stores the list of members retrieved from the server\nlet members = [];\nlet selectedMember = null; // Stores the selected member\n\nfunction loadMembers() {\n    // Display the loader so the user knows whats happening\n    showLoader('Loading Members...');\n    // A Function that is called if we failed\n    const fail = (point) => showToast('Failed to load members... POINT=' + point, null, true);\n    // Ajax request to /members the backend endpoint for the members list\n    $.get('/members')\n        // If the request succeeds\n        .done(res => {\n            // Make sure the request isn't malformed\n            if (!res.hasOwnProperty('status')) {\n                fail(0); // Failed because missing status\n            } else {\n                if (res.status === 'success' && res.hasOwnProperty(\"members\")) {\n                    members = res.members;\n                } else {\n                    fail(1);\n                }\n            }\n        })\n        // If the request fails\n        .fail(() => fail(2))\n        // We always want to close the loader no matter the result\n        .always(() => hideLoader());\n}\n\nfunction getRelevantMembers(name) {\n\n    /*\n    *   Names are ranked using a score from 0 - 8\n    *   the score is determined by how much matching\n    *   parts the name has with the member\n    *\n    *   Full Match: 4\n    *   Start Match +2\n    *   Contains Match +1\n    *\n    *   All of these can stack up except for the full match\n    */\n\n    // If the name is null we ignore everyone\n    if (name == null) {\n        return [];\n    }\n    name = name.toLowerCase();\n    const matching = [];\n    // Each of the names and their rankings\n    const rankings = {};\n    members.forEach(member => {\n        const lowerName = member.toLowerCase();\n        let ranking = 0;\n        if (name === lowerName) {\n            ranking = 4;\n        } else {\n            if (lowerName.startsWith(name)) ranking += 2;\n            if (lowerName.indexOf(name) >= 0) ranking += 1;\n        }\n        rankings[member] = ranking;\n        if (ranking > 0) {\n            matching.push(member);\n        }\n    });\n    // Sort the names with their ranking (inverted sorting so higher ranks appear first)\n    matching.sort((a, b) => rankings[b] - rankings[a]);\n    return matching;\n}\n\nfunction clearMembersList() {\n    const $membersList = $('#membersList');\n    $membersList.children().remove(); // Remove all the children\n}\n\nfunction fillMembersList(name = null) {\n    if (name == null || name.length === 0) name = null; // If the name is empty we just make it null\n    const $membersList = $('#membersList');\n    const members = getRelevantMembers(name); // Get the members relevant to the search\n    clearMembersList(); // Clear the list of members\n    // Loop through all the members\n    members.forEach(member => {\n        // Create the label wrapping so the whole thing acts a radio button\n        const $item = $('<label/>', {class: 'members__list__item', text: member});\n        // Create the radio button\n        const $radio = $('<input/>', {\n            type: 'radio',\n            name: 'members',\n            class: 'members__list__item__button',\n            value: member\n        });\n        // Set the click logic for the radio button\n        $radio.on('click', function () {\n            const $button = $(this); // Get a jquery instance of the button\n            const $parent = $button.parent(); // Get the parent element\n            const checked = $button.is(':checked'); // Check if the button is checked\n            if (checked) {\n                if ($parent.hasClass('members__list__item--selected')) { // Add unselect functionality\n                    $parent.removeClass('members__list__item--selected') // Remove the selected class\n                    selectedMember = null; // Clear the selected member\n                    $button.prop('checked', false) // Set the checked state\n                } else {\n                    $('.members__list__item').removeClass('members__list__item--selected'); // Remove the selected class from the other elements\n                    $parent.addClass('members__list__item--selected'); // Add the selected class\n                    selectedMember = $button.attr('value'); // Set the selected member to the value of the radio button\n                }\n            }\n            // Set the done button to disabled if the selected member is null otherwise enable it\n            $memberSubmit.prop('disabled', selectedMember == null);\n        })\n        // Append the radio button to the item\n        $radio.appendTo($item);\n        // Append the item to the members list\n        $item.appendTo($membersList);\n    });\n}\n\n// Change the contents of the members list when the name changes\n$memberName.on('input', () => fillMembersList($memberName.val()))\n// When a key is released for the GuestName input\n$memberName.on('keyup', (e) => {\n    if (e.keyCode === 13) { // Enter key pushed\n        let name = $memberName.val();\n        if (name == null || name.length === 0) name = null; // If the name is empty we just make it null\n        const viewMembers = getRelevantMembers(name);\n        if (viewMembers.length > 0) { // Make sure we have members\n            selectedMember = viewMembers[0]; // Selected the first member\n            $('.members__list__item__button[value=\"' + selectedMember + '\"]').trigger('click'); // Select the corresponding input\n            $memberSubmit.prop('disabled', selectedMember == null); // Enable the button\n            $memberSubmit.trigger('click'); // Click the button\n        }\n    }\n});\n\n/*\n*   End Member Handling\n*\n*   ########################\n*\n*   Start Loading Handling & Toasts\n*\n*   This section of code controls the displaying and hiding\n*   of page loaders and toasts\n*\n*/\n\nfunction showLoader(text = \"Loading...\") {\n    $loader.addClass('loader__wrapper--open'); // Add the open loader class\n    $loaderText.val(text); // Set the text of the loader\n}\n\nfunction hideLoader() {\n    $loader.removeClass('loader__wrapper--open'); // Remove the loader open class\n}\n\nlet currentToastTimeout = -1; // The timeout identifier of setTimeout for the toast\n\nfunction showToast(text, undoCallback = null, error = false, duration = 2500) {\n    const $toast = $('#toast');\n    const $toastText = $('#toastText');\n    const $toastUndo = $('#toastUndo');\n    if (error) { // If the toast in an error toast add the error class\n        $toast.addClass('toast--error');\n    } else { // Otherwise remove the error class\n        $toast.removeClass('toast--error');\n    }\n    // Bind bind the click event to the undo callback if it exists\n    $toastUndo.bind('click', () => undoCallback != null && undoCallback());\n    if (undoCallback == null) { // If there is no undo callback hide the undo button\n        $toastUndo.css('display', 'none');\n    } else {\n        $toastUndo.css('display', 'revert');\n    }\n    $toastText.text(text); // Set the toast text\n    $toast.removeClass('toast--hidden'); // Remove the toast hidden class\n    if (currentToastTimeout !== -1) { // If there is already a timeout\n        clearTimeout(currentToastTimeout); // Clear the current timeout\n    }\n    // Set the timeout to a new setTimeout\n    currentToastTimeout = setTimeout(() => { // When the duration is complete\n        $toast.addClass('toast--hidden'); // Add the hidden class again\n        $toastUndo.unbind('click'); // Unbind the click callback\n    }, duration);\n}\n\n\n// Clear the page hash on reload\nclearHash();\n// Only load members on the main page not /attending\nif (document.location.pathname !== '/attending') {\n    loadMembers();\n}\n\n\n/*\n*   End Loading Handling & Toasts\n*\n*   ########################\n*\n*   Start Attendance Marking\n*\n*   This section of code controls the marking of attendance\n*   via the backend along with its respective frontend\n*\n*/\n\n$memberSubmit.on('click', () => {\n    if (selectedMember == null) return; // If there is no selected member return\n    const name = selectedMember;\n    // Save the attendance\n    saveAttendance(name, true, () => { // After the attendance is saved\n        // Show a toast telling the user its been marked\n        showToast('Successfully marked attendance for \"' + name + '\"', () => { // The callback that occurs if undo is pressed\n            // Remove the attendance\n            removeAttendance(name, () => { // After the attendance is removed\n                showToast('Reverted attendance for \"' + name + '\"'); // Show a toast telling the user its been reverted\n            })\n        });\n        // Take the user back to the main page\n        resetPage();\n    });\n});\n\n// When a key is released for the GuestName input\n$guestName.on('keyup', (e) => {\n    if (e.keyCode === 13) { // Enter key pushed\n        $guestSubmit.trigger('click'); // Click the button for the user\n    }\n});\n$guestSubmit.on('click', () => {\n    const name = $guestName.val();\n    if (name != null && name.length > 0) {\n        // Save the attendance\n        saveAttendance(name, false, () => { // After the attendance is saved\n            // Show a toast telling the user its been marked\n            showToast('Successfully marked attendance for \"' + name + '\"', () => { // The callback that occurs if undo is pressed\n                // Remove the attendance\n                removeAttendance(name, () => { // After the attendance is removed\n                    showToast('Reverted attendance for \"' + name + '\"'); // Show a toast telling the user its been reverted\n                })\n            });\n            // Take the user back to the main page\n            resetPage();\n        });\n    }\n});\n\n\nfunction saveAttendance(name, member, callback) {\n    showLoader('Saving Attendance...');\n    // A Function that is called if we failed\n    const fail = (point) => showToast('Failed to mark attendance... POINT=' + point, null, true);\n    $.post('/attendance', {name: name, member: member}).done(res => {\n        // Make sure the request isn't malformed\n        if (!res.hasOwnProperty('status')) {\n            fail(0); // Failed because missing status\n        } else {\n            if (res.status === 'success') {\n                // Call the callback\n                callback();\n            } else {\n                if (res.hasOwnProperty(\"reason\")) {\n                    // Show a error toast\n                    showToast(res.reason, null, true);\n                } else fail(1);\n            }\n        }\n    }).fail(() => fail(2)).always(() => hideLoader());\n}\n\nfunction removeAttendance(name, callback) {\n    showLoader('Removing Attendance...');\n    // A Function that is called if we failed\n    const fail = (point) => showToast('Failed to change attendance... POINT=' + point, null, true);\n    $.ajax('/attendance', {type: 'DELETE', data: {name: name}}).done(res => {\n        // Make sure the request isn't malformed\n        if (!res.hasOwnProperty('status')) {\n            fail(0); // Failed because missing status\n        } else {\n            if (res.status === 'success') {\n                // Show a toast letting the user know the attendance was marked\n                showToast('Successfully removed attendance for \"' + name + '\"', null);\n                // Run the callback\n                callback();\n            } else {\n                fail(1);\n            }\n        }\n    }).fail(() => fail(2)).always(() => hideLoader());\n}\n\n$('.attendance__list__item__buttons__button').on('click', function () {\n    const $button = $(this);\n    // The name of the attendance item\n    const name = $button.attr('data-name');\n    if (name !== undefined && name !== null) {\n        // Remove the attendance for that name\n        removeAttendance(name, () => $button.parents('.attendance__list__item').remove());\n    }\n})"],"file":"app.js"}