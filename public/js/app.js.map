{"version":3,"sources":["../../resources/js/app.js"],"names":["clearHash","history","pushState","document","title","window","location","pathname","search","$types","getElementById","$pages","$loader","$memberName","$memberSubmit","$membersList","elements","selector","callback","i","v","querySelectorAll","length","nonNull","element","undefined","triggerClick","event","createEvent","initEvent","dispatchEvent","isEnterKey","code","removeChildren","firstChild","removeChild","showLoader","classList","remove","hideLoader","add","toastHandle","toastEventListener","showToast","text","undoCallback","error","duration","toast","toastText","toastUndo","removeEventListener","addEventListener","textContent","clearTimeout","setTimeout","request","method","url","headers","XMLHttpRequest","open","headerKeys","Object","keys","key","value","setRequestHeader","onload","status","data","JSON","parse","response","onerror","encodeForm","output","encodeURIComponent","substr","get","send","post","del","onhashchange","hash","pages","page","includes","resetPage","toPage","id","resetTimeout","disabled","currentPage","querySelector","focus","e","checked","selectedMember","blur","fillMembersList","onclick","members","LOAD_RETRY_DELAY","loadMembers","console","log","fail","reason","err_m","res_m","hasOwnProperty","err_a","res_a","tempMembers","simplifiedAttendance","map","x","name","filter","getRelevantMembers","query","sort","toLowerCase","matching","rankings","member","memberLower","ranking","startsWith","indexOf","push","a","b","tabIndex","$item","createElement","$radio","type","onkeydown","childNodes","item","parent","parentNode","contains","appendChild","TIMEOUT_DELAY","timeoutHandle","clearScreen","saveAttendance","onkeyup","relevantMembers","err","res","removeAttendance","getAttribute","parentElement","listItem"],"mappings":"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","sourcesContent":["// Clears the window hash\nconst clearHash = () => history.pushState(\"\", document.title, window.location.pathname + window.location.search);\n\nconst $types = document.getElementById('types');\nconst $pages = document.getElementById('pages');\nconst $loader = document.getElementById('loader');\n\nconst $memberName = document.getElementById('memberName');\n\nconst $memberSubmit = document.getElementById('memberSubmit');\n\nconst $membersList = document.getElementById('membersList');\n\n/*\n*   Start Utilities\n*\n*   This section of code contains utility functions such\n*   as loader controls, element manipulation, and networking\n*\n*/\n\n/**\n *  Elements - Collects all elements matching the selector\n *  and runs the callback function with the element as the\n *  value\n *\n *  @param selector The css selector to get the elements for\n *  @param callback The callback function to run for each element\n */\nfunction elements(selector, callback) {\n    // Query the selector for all its elements then loop through them\n    for (let i = 0, v = document.querySelectorAll(selector); i < v.length; i++) {\n        callback(v[i]); // Run the callback with the element\n    }\n}\n\n/**\n *  NonNull - Checks to make sure the provided element is not null\n *  then runs the callback if true\n *\n *  @param element The element to check if null\n *  @param callback The callback function to run if not null\n */\nfunction nonNull(element, callback) {\n    // Ensure not undefined and not null\n    if (element !== undefined && element !== null) callback(element); // Run callback with element\n}\n\n/**\n *  TriggerClick - Triggers a click event on the provided element\n *\n *  @param element The element to click\n */\nfunction triggerClick(element) {\n    const event = document.createEvent('MouseEvents'); // Create a new mouse event\n    event.initEvent('click', true, true); // Initialize a click event\n    element.dispatchEvent(event); // Dispatch the event\n}\n\n/**\n *  IsEnterKey - A Utility function which takes in a keyboard event\n *  and returns whether or not the pressed key was the Enter key\n *\n *  @param event The keyboard event\n *  @return boolean Whether or not enter was pressed\n */\nfunction isEnterKey(event) {\n    let code;\n    if (event[\"key\"] !== undefined) {\n        code = event[\"key\"];\n    } else if (event[\"keyIdentifier\"] !== undefined) {\n        code = event[\"keyIdentifier\"];\n    } else if (event[\"keyCode\"] !== undefined) {\n        code = event[\"keyCode\"];\n    }\n    return code === 'Enter' || code === 'Return' || code === 13;\n}\n\n/**\n *  RemoveChildren - Removes all the child elements of the\n *  provided element\n *\n *  @param element The element to remove the children of\n */\nfunction removeChildren(element) {\n    while (element.firstChild) {\n        element.removeChild(element.firstChild);\n    }\n}\n\n/* == Loader manipulation == */\n\n/**\n *  ShowLoader - Removes the hidden class from the loader element\n *  making it visible\n */\nfunction showLoader() {\n    $loader.classList.remove('loading-bar--hidden'); // Remove the class\n}\n\n/**\n *  HideLoader - Adds the hidden class to the loader element\n *  making it hidden\n */\nfunction hideLoader() {\n    $loader.classList.add('loading-bar--hidden'); // Add the class\n}\n\n/* == Toast manipulation == */\n\nlet toastHandle = -1; // The current toast timeout handle (For resetting the timeout)\nlet toastEventListener = null; // The current toast event listener (For handling Undo button clicks)\n\n/**\n *  ShowToast - Displays the toast popup at the top of the window for\n *  the desired duration with the provided message\n *\n * @param text The message to display in the toast\n * @param undoCallback The function to run when \"Undo\" is pressed or null for no undo button\n * @param error Whether or not this is a error toast which should be displayed in red\n * @param duration The duration to display this toast for\n */\nfunction showToast(text, undoCallback = null, error = false, duration = 2500) {\n    const toast = document.getElementById('toast'); // The toast element\n    const toastText = document.getElementById('toastText');\n    const toastUndo = document.getElementById('toastUndo');\n    if (error) { // If the toast is an error toast\n        toast.classList.add('toast--error'); // Add the error class\n    } else { // Otherwise\n        toast.classList.remove('toast--error'); // Remove the error class if its there\n    }\n    if (toastEventListener != null) { // If there is already a click listener\n        // Clear the current click listener this prevents the bug\n        // that causes all changes to be reverted when undo is pressed\n        toastUndo.removeEventListener('click', toastEventListener);\n    }\n    // Create the toast event listener by running the undo callback\n    // if its not null\n    toastEventListener = () => undoCallback != null && undoCallback();\n    // Add the callback to the undo button\n    toastUndo.addEventListener('click', toastEventListener);\n    if (undoCallback == null) { // If there is not a undo callback\n        toastUndo.classList.add('toast__undo--hidden'); // Hide the \"Undo\" button\n    } else { // Otherwise\n        toastUndo.classList.remove('toast__undo--hidden'); // Show the \"Undo\" button\n    }\n    // Set the toast text content to the provided text\n    toastText.textContent = text;\n    // Remove the hidden class from the toast\n    toast.classList.remove('toast--hidden');\n    if (toastHandle !== -1) { // If a toast handle is already active\n        clearTimeout(toastHandle); // Clear the timeout handle\n    }\n    // Assign the handle to a new timeout\n    toastHandle = setTimeout(() => { // Once the timeout is complete\n        toast.classList.add('toast--hidden'); // Hide the toast\n        if (toastEventListener != null) { // Remove the event listener if one is attached\n            toastUndo.removeEventListener('click', toastEventListener);\n        }\n    }, duration);\n}\n\n/* == Networking == */\n\n/**\n *  Request - Creates a XMLHttpRequest object with the provided method, url,\n *  headers and executes the callback function when loaded or on error\n *\n *  @param method The HTTP request method\n *  @param url The HTTP request url\n *  @param headers The HTTP request headers\n *  @param callback The callback to run once the request is complete\n */\nfunction request(method, url, headers, callback) {\n    const request = new XMLHttpRequest(); // Create a new XMLHttpRequest\n    request.open(method, url, true); // Open the request\n    const headerKeys = Object.keys(headers); // Get all the header keys\n    for (let i = 0; i < headerKeys.length; i++) { // Loop the header keys\n        const key = headerKeys[i]; // Get the header key\n        const value = headers[key]; // Get the header value using its key\n        request.setRequestHeader(key, value); // Set the request header to the Key: Value\n    }\n    request.onload = function () { // When the request is loaded\n        // When the status is between 200 and 400\n        if (this.status >= 200 && this.status <= 400) {\n            const data = JSON.parse(this.response); // Parse the JSON response\n            callback(null, data); // Run the callback with the response data\n        } else {\n            // Run the callback with an error message\n            callback('Connected to server but unable to process request.', null);\n        }\n    }\n    request.onerror = function () { // When a connection problem occurs\n        // Run the callback with an error message\n        callback('Unable to connect to server', null)\n    }\n    // Return the request object so that we can send it\n    return request;\n}\n\n/**\n *  EncodeForm - Converts a object into a application/x-www-form-urlencoded\n *  form by joining all the data together\n *\n *  @param data The object to convert to form data\n *  @return string The form data (e.g username=user&password=pass)\n */\nfunction encodeForm(data) {\n    let output = ''; // Create the empty output\n    const keys = Object.keys(data); // Get all of the object keys\n    for (let i = 0; i < keys.length; i++) { // Loop through the keys\n        const key = keys[i]; // Get the current key\n        const value = data[key]; // Get the current value with the key\n        // Append the encoded data to output\n        output += encodeURIComponent(key) + '=' + encodeURIComponent(value) + '&';\n    }\n    // Return the output with the last & trimmed off\n    return output.substr(0, output.length - 1);\n}\n\n/**\n *  Get - Sends a GET request to the provided url and runs\n *  the callback when done\n *\n *  @param url The HTTP request url\n *  @param callback The callback to run once the request is complete\n */\nfunction get(url, callback) {\n    request('GET', url, {\n        'Accept': 'application/json; charset=UTF-8', // We only need to accept JSON\n    }, callback).send() // Create and send the request\n}\n\n\n/**\n *  Post - Sends a POST request to the provided url with the\n *  provided form data and runs the callback when done\n *\n *  @param url The HTTP request url\n *  @param data The HTTP request form data\n *  @param callback The callback to run once the request is complete\n */\nfunction post(url, data, callback) {\n    request('POST', url, {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        'Accept': 'application/json; charset=UTF-8',\n    }, callback).send(encodeForm(data)); // Create the request and send the encoded form\n}\n\n/**\n *  Del/Delete - Sends a DELETE request to the provided url with the\n *  provided form data and runs the callback when done\n *\n *  @param url The HTTP request url\n *  @param data The HTTP request form data\n *  @param callback The callback to run once the request is complete\n */\nfunction del(url, data, callback) {\n    request('DELETE', url, {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n        'Accept': 'application/json; charset=UTF-8',\n    }, callback).send(encodeForm(data)); // Create the request and send the encoded form\n}\n\n\n/*\n*\n*   End Utilities\n*\n*   ########################\n\n*   Start Page Manipulation\n*\n*   This section of code controls the changing of the page\n*   contents when the window hash changes\n*   (#member, $guest)\n*\n*/\n\n// When the window hash code changes\nwindow.onhashchange = () => {\n    const hash = window.location.hash // The current window hash (e.g #guest)\n    const pages = [\"guest\", \"member\"]; // A list of the valid pages\n    if (hash.length < 1) {  // The hash was removed so we can ignore it\n        /*\n        * If the hash was removed we don't want to make changes\n        * Because it was most likely changes via resetPage()\n        */\n        return;\n    }\n    const page = hash.substr(1); // We remove the # from the hash to get the page name\n    if (!pages.includes(page)) {  // Make sure the hash value is listed in the pages\n        return resetPage(); // If not reset the page (this corrects the hash)\n    }\n    toPage(page); // Open the selected page\n}\n\n/**\n *  ToPage - Shows the selected page\n *\n *  @param id The id of the page to show\n */\nfunction toPage(id) {\n    resetTimeout(); // Clear the current timeout (we dont want to reset the page right after opening it)\n    // Disable all type buttons so we cant accidentally tab select them\n    elements('.member-types__type', element => element.disabled = true);\n    $types.classList.remove('member-types--hidden'); // Hide the types page so it goes out of view\n    $pages.classList.remove('sign-pages--hidden'); // Show the sign-in page so that its visible\n    // Get the current page via its id\n    const currentPage = document.querySelector('.sign-pages__page[page-id=\"' + id + '\"]');\n    // Remove the hidden class for the current page so its visible\n    nonNull(currentPage, element => element.classList.remove('sign-pages__page--hidden'));\n    if (id === 'member') { // If we are selecting the member page\n        $memberName.focus(); // Focus the member input\n    }\n}\n\n/**\n *  ResetPage - Resets the page to its default state,\n *  clears all the inputs, clears the page hash, takes\n *  inputs out of focus and shows main menu\n */\nfunction resetPage() {\n    resetTimeout(); // Reset the page timeout\n    // Enables all the type buttons again so they can be pushed\n    elements('.member-types__type', element => element.disabled = false);\n    $types.classList.remove('member-types--hidden'); // Show the tpyes page so it comes into view\n    $pages.classList.remove('sign-pages--hidden'); // Hide the sign-in page so it goes out of view\n    clearHash(); // Clear the window hash so that the next user will always get the home page\n    $memberName.value = '';  // Clear the member name input\n    elements('.members__list__item__button', e => e.checked = false); // Uncheck all the members radio buttons\n    elements('.members__list__item', e => e.classList.remove(\"members__list__item--selected\")); // Uncheck all the members radio buttons\n\n    selectedMember = null; // Set the selected member to done\n    $memberSubmit.disabled = true; // Disable the member submit button\n    removeChildren($membersList); // Remove all the members list children\n    $memberName.blur(); // Take the member name input out of focus\n    fillMembersList(); // Fill the members list with the current members\n}\n\n\n// Add the functionality for the back button\nnonNull(document.getElementById('signBack'), element => element.onclick = () => resetPage());\n\n/*\n*   End Page Manipulation\n*\n*   ########################\n*\n*   Start Member Handling\n*\n*   This section of code controls retrieving the members list from\n*   the backend, filtering, and sorting that data to display it\n*\n*/\n\n// This stores the list of members retrieved from the server\nlet members = [];\nlet selectedMember = null; // Stores the selected member\nconst LOAD_RETRY_DELAY = 2 * 1000; // The time before attempting to load the members after failing is milliseconds (2 seconds)\n\n/**\n *  LoadMembers - Loads the list of members from the backend server\n *  and displays a loader while its happening then updates the cache\n *  badge when done\n */\nfunction loadMembers() {\n    console.log(\"LOADING\")\n    // Display the loader so the user knows whats happening\n    showLoader();\n    // A Function that is called if we failed\n    const fail = (reason) => {\n        showToast(`Failed to load members: ${reason} (Retrying in ${LOAD_RETRY_DELAY / 1000}s)`, null, true);\n        setTimeout(() => { // Wait the load retry delay\n            loadMembers(); // Load the members again\n        }, LOAD_RETRY_DELAY);\n    }\n    // Ajax request to /members the backend endpoint for the members list\n    get('/members', (err_m, res_m) => {\n        if (err_m != null) {\n            fail(err_m); // Warn the user\n        } else {\n            if (!res_m.hasOwnProperty('status')) { // If the request is missing a status\n                fail('Malformed Server Response status missing'); // Warn the user\n            } else { // Otherwise\n                if (res_m.status === 'success'\n                    && res_m.hasOwnProperty(\"members\")\n                    && res_m.hasOwnProperty(\"cached\")\n                ) { // Make sure the request has all the required data\n                    get('/attendance', (err_a, res_a) => {\n                        if (err_a != null) {\n                            fail(err_a); // Warn the user\n                        } else {\n                            if (!res_a.hasOwnProperty('status')) { // If the request is missing a status\n                                fail('Malformed Server Response status missing'); // Warn the user\n                            } else { // Otherwise\n                                if (res_a.status === 'success'\n                                    && res_a.hasOwnProperty(\"members\")\n                                    && res_a.hasOwnProperty(\"cached\")\n                                ) { // Make sure the request has all the required data\n                                    let tempMembers = res_m.members;\n                                    let simplifiedAttendance = res_a.members.map((x)=>x.name)\n\n                                    members = tempMembers.filter((x)=>!simplifiedAttendance.includes(x));\n\n\n                                } else {\n                                    fail('Malformed Server Response'); // Warn the user\n                                }\n                            }\n                            hideLoader(); // Always hide the loader\n                            fillMembersList(); // Fill the members list with the current members\n\n                        }\n                \n                    })\n                } else {\n                    fail('Malformed Server Response'); // Warn the user\n                }\n            }\n        }\n    })\n}\n\n/**\n *  GetRelevantMembers - Filters the members list based on the provided query\n *  and sorts the list based on how much of a match it is\n *\n *  Names are ranked using a score from 0 - 8\n *  the score is determined by how much matching\n *  parts the name has with the member\n *\n *  Full Match: 4\n *  Start Match +2\n *  Contains Match +1\n *\n *   All of these can stack up except for the full match\n *\n *  @param query The name search query\n *  @return array The filtered list of members\n */\nfunction getRelevantMembers(query) {\n    // If the query is null we ignore everyone\n    if (query == null) {\n        return members.sort();\n    }\n    query = query.toLowerCase(); // The lowercase query\n    const matching = []; // The matching results\n    const rankings = {}; // The rankings for each result\n    for (let i = 0; i < members.length; i++) { // Loop through all the members\n        const member = members[i]; // Get the member\n        const memberLower = member.toLowerCase(); // Get a lowercase copy of the name for ignore case matching\n        let ranking = 0; // The current member ranking\n        if (query === memberLower) { // If we a complete match\n            ranking = 4; // Set the highest available ranking\n        } else {\n            // If the name starts with the query set the second highest ranking\n            if (memberLower.startsWith(query)) ranking += 2;\n            // If the name contains the query increase the ranking\n            if (memberLower.indexOf(query) >= 0) ranking += 1;\n        }\n        // Set the ranking of the member to its ranking\n        rankings[member] = ranking;\n        if (ranking > 0) { // If the ranking is greater than 0\n            matching.push(member); // Add it to the matching list\n        }\n    }\n    // Sort the names with their ranking (inverted sorting so higher ranks appear first)\n    matching.sort((a, b) => rankings[b] - rankings[a]);\n    // Return the matching names\n    return matching;\n}\n\n\n/**\n *  FillMembersList - Fills the members list with the members radio buttons\n *  and clears the current contents\n *\n *  @param query The name search query\n */\nfunction fillMembersList(query = null) {\n    const members = getRelevantMembers(query); // Get the members relevant to the search\n    removeChildren($membersList); // Remove all the members list children\n    let tabIndex = 5; // The current page tab index\n    for (let i = 0; i < members.length; i++) { // Loop through all the members\n        const member = members[i]; // Get the current member\n        // Create the label wrapping so the whole thing acts a radio button\n        const $item = document.createElement('label');\n        $item.classList.add('members__list__item'); // Add the list item class\n        $item.textContent = member; // Set the element text content\n        /*\n        * Fixed window tabbing in commit\n        * e3641cf4874c884437c95e8be6457e8e84e69fa5\n        * using tabIndex\n        */\n        $item.tabIndex = tabIndex; // Set the element tab index\n        tabIndex++; // Increase the tab index\n\n        // Create the radio button\n        const $radio = document.createElement('input');\n        $radio.type = 'radio'; // Set the input type to radio button\n        $radio.name = 'members'; // Set the radio name to \"members\" so its grouped with the others\n        $radio.classList.add('members__list__item__button'); // Add the button class\n        $radio.value = member; // Set the value to the member name\n\n        $item.onkeydown = e => { // When a key is pressed while the item is focused\n            if (isEnterKey(e)) { // If the enter key is pressed\n                const $radio = $item.childNodes.item(0); // Get the first child (this is the radio button)\n                triggerClick($radio); // Click the radio button to select it\n                $memberSubmit.disabled = selectedMember == null; // Set the submit button disabled state\n                triggerClick($memberSubmit); // Click the submit button\n            }\n        }\n\n        $radio.onclick = () => { // When the radio button is clicked\n            const parent = $radio.parentNode;  // Get the parent element\n            if ($radio.checked) { // If the button is checked\n                if (parent.classList.contains('members__list__item--selected')) { // If its already selected\n                    triggerClick($memberSubmit); // Double click triggers save so submit\n                } else {\n                    // Remove the selected class from the other elements\n                    elements('.members__list__item', e => e.classList.remove('members__list__item--selected'));\n                    parent.classList.add('members__list__item--selected'); // Add the selected class\n                    selectedMember = $radio.value; // Set the selected member to the value of the radio button\n                }\n            }\n            // Set the done button to disabled if the selected member is null otherwise enable it\n            $memberSubmit.disabled = selectedMember == null;\n        }\n\n        // Append the radio button to the item\n        $item.appendChild($radio);\n        // Append the item to the members list\n        $membersList.appendChild($item);\n    }\n}\n\n/*\n*   Clear the page hash on reload to ensure\n*   The user is always give the main page\n*/\nclearHash();\n\n\n/*\n*   End Member Handling\n*\n*   ########################\n*\n*   Start Timeout Handling\n*\n*   This section of code handles the automatic timeout of the\n*   window which resets the page every 60 seconds so that\n*   if someone presses a button then leaves it will return\n*   to the main menu\n*\n*/\n\nconst TIMEOUT_DELAY = 60 * 1000; // The delay to timeout after in milliseconds (60 seconds)\nlet timeoutHandle = -1; // The handle for the current timeout\n\n/**\n *  ClearScreen - Clears the screen when the page timeout has finished\n *  and loads the members list again\n */\nfunction clearScreen() {\n    resetPage(); // Reset the page\n    loadMembers(); // Load the members list\n}\n\n/**\n *  ResetTimeout - Resets the currently running window\n *  timeout\n */\nfunction resetTimeout() {\n    clearTimeout(timeoutHandle); // Clear the current timeout using the handle\n    timeoutHandle = setTimeout(clearScreen, TIMEOUT_DELAY); // Set a new timeout to the handle\n}\n\n// When we are not on the attendance page\nif (document.location.pathname !== '/attending') {\n    loadMembers(); // Load the members list\n    resetTimeout(); // Set the window timeout\n}\n\n/*\n*   End Timeout Handling\n*\n*   ########################\n*\n*   Start Attendance Marking\n*\n*   This section of code controls the marking of attendance\n*   via the backend along with its respective frontend\n*\n*/\n\n// Make sure the member submit button is not null\nnonNull($memberSubmit, element => {\n    // When the button is clicked\n    element.onclick = () => {\n        if (selectedMember != null) { //  if the selected member is not null\n            saveAttendance(selectedMember, true)// Save the attendance\n        }\n    };\n});\n\n// Make sure the member name input is not null\nnonNull($memberName, element => {\n    // When a key is released for the GuestName input\n    element.onkeyup = event => {\n        if (isEnterKey(event)) {// Enter key pushed\n            let name = element.value; // Get the current name\n            if (name == null || name.length === 0) name = null; // If the name is empty we just make it null\n            const relevantMembers = getRelevantMembers(name);\n            if (relevantMembers.length > 0) { // Make sure we have members\n                selectedMember = relevantMembers[0]; // Selected the first member\n                $memberSubmit.disabled = selectedMember == null; // Set the disabled state of the submit button\n                triggerClick($memberSubmit); // Click the submit button\n            }\n        }\n        resetTimeout(); // Make sure we don't timeout mid typing\n        fillMembersList(element.value); // Fill the members list filtered to the new query\n    }\n});\n\n/**\n *  SaveAttendance - Sends a post request to the backend saving the\n *  attendance for the provided name and setting guest based on the\n *  provided member\n *\n *  @param name The name to mark attendance for\n *  @param member Whether or not the attendance is of a member\n */\nfunction saveAttendance(name, member) {\n    showLoader(); // Show the loader\n    // A Function that is called if we failed\n    const fail = (reason) => showToast('Failed to mark attendance: ' + reason, null, true);\n    post('/attendance', {name: name, member: member}, (err, res) => {\n        if (err != null) {\n            fail(err); // Fail because we couldn't connect\n        } else {\n            // Make sure the request isn't malformed\n            if (!res.hasOwnProperty('status')) {\n                fail('Malformed server data'); // Failed because missing status\n            } else {\n                if (res.status === 'success') {\n                    // Show a toast telling the user its been marked\n                    showToast('Successfully marked attendance for \"' + name + '\"', () => { // The callback that occurs if undo is pressed\n                        // Remove the attendance\n                        removeAttendance(name, () => { // After the attendance is removed\n                            showToast('Reverted attendance for \"' + name + '\"'); // Show a toast telling the user its been reverted\n                        });\n                    });\n                    loadMembers()\n                    // Take the user back to the main page\n                    resetPage();\n                } else {\n                    if (res.hasOwnProperty(\"reason\")) {\n                        // Show a error toast\n                        showToast(res.reason, null, true);\n                    } else fail('Unknown Reason'); // Fail with an unknown reason\n                }\n            }\n        }\n        hideLoader(); // Always hide the loader\n    });\n}\n\nfunction removeAttendance(name, callback) {\n    showLoader(); // Show the loader\n    // A Function that is called if we failed\n    const fail = (reason) => showToast('Failed to change attendance: ' + reason, null, true);\n    del('/attendance', {name: name}, (err, res) => {\n        if (err != null) {\n            fail(err); // Fail because we couldn't connect\n        } else {\n            // Make sure the request isn't malformed\n            if (!res.hasOwnProperty('status')) {\n                fail('Malformed server data'); // Failed because missing status\n            } else {\n                if (res.status === 'success') {\n                    // Show a toast letting the user know the attendance was marked\n                    showToast('Successfully removed attendance for \"' + name + '\"', null);\n                    // Run the callback\n                    callback();\n                } else fail('Unknown Reason'); // Fail with an unknown reason\n            }\n        }\n        hideLoader(); // Always hide the loader\n    });\n}\n\n\n/*\n*   End Attendance Marking\n*\n*   ########################\n*\n*   Start Attendance List\n*\n*   This section of code controls the attendance list\n*   code such as the delete buttons\n*\n*/\n\n// For all of the delete buttons on the attendance page\nelements('.attendance__list__item__buttons__button', element => element.onclick = () => { // When the element is clicked\n    const name = element.getAttribute('data-name'); // Get the name attribute\n    if (name !== undefined && name !== null) { // If there is a name attribute\n        removeAttendance(name, () => { // Remove the attendance\n            const parent = element.parentElement.parentElement; // Get the root element\n            const listItem = parent.parentElement; // Get its parent\n            listItem.removeChild(parent); // Remove the element using its parent\n        });\n\n    }\n});"],"file":"app.js"}